<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Drought in America</title>

    <link rel="stylesheet" href="static/css/normalize.css" />
    <link rel="stylesheet" href="static/css/style.css" />
    <link rel="stylesheet" href="static/css/ionicons.min.css" />

  </head>
  <body>

    <header>
      <div id="title">
        <h1><span class="brown">Drought</span> in America</h1>
      </div>

      <div id="intro">
        <p>Since 2011, California has been experiencing one of the worst droughts in its recorded history. But, Californians arenâ€™t the only Americans who have had to grapple with the water shortages, agriculture crises, and extreme weather patterns that all result from drought.</p>

        <p>Drought is inherently part of the ebb and flow of North American weather.</p>

        <p>Scroll down to see these cycles in action. Watch droughts throughout the United States grow and shrink or select a specific date to see a snapshot from the past 15 years.</p>
      </div>

      <div id="down">
        <a class="ion-chevron-down" href="#main"></a>
      </div>
    </header>

    <section id="main">
      <div class="choro-container">
        <h1 id="choro-title"></h1>
        <div id="choro">
        </div>
      </div>
      <div class="choro-info">
        <h1><span class="brown">Drought</span> Over Time</h1>

        <p>Click the button to stop or start the cycle. Or, select your own date from the list. Data ranges from January 2000 - November 2014.</p>

        <button id="start" type="button" value="pause">Pause</button>

        <hr />

        <div class="select-area">
          <h3>Select A Date</h3>

          <form>
            <input id="vizdate" type="date" name="vizdate" min="2000-01-01" max="2014-12-01" value>
            <br />
            <button id="date-submit" type="button" value="submit" onclick="onFormClick()">Submit</button>
          </form>

          <hr />

          <h3>The Scale</h3>

          <ul>
            <li style="background-color: #e2b6a8">No Drought</li>
            <li style="background-color: #d3927d">D0 - Abnormally Dry</li>
            <li style="background-color: #c56d51">D1 - Moderate Drought</li>
            <li style="background-color: #b64926">D2 - Severe Drought</li>
            <li style="background-color: #89371c">D3 - Extreme Drought</li>
            <li style="background-color: #5b2513">D4 - Exceptional Drought</li>
          </ul>
        </div>
      </div>
    </section>

    <footer>
      <p>This visualization would not be possible without the efforts of the <a target="_blank" href="http://droughtmonitor.unl.edu/">United States Drought Monitor</a>, which has maintained a superb database of drought data since 2000. To learn more about the ongoing drought in California and how you can help, visit <a target="_blank" href="http://ca.gov/drought/">California's State Drought Portal</a>.</p>

      <p>Designed & Built By: <a href="http://www.ceskavich.com/">Billy Ceskavich</a></p>
    </footer>


    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="static/js/main.js"></script>

    <script>
      $(function(){

        $("#start").click(function(){
          setLoop(this.value);

          if (this.value == "pause"){
            $("#start").html("Play");
            $("#start").prop("value", "play");
          }
          else {
            $("#start").html("Pause");
            $("#start").prop("value", "pause");
          }
        });

        $('a[href*=#]:not([href=#])').click(function() {
          if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
            if (target.length) {
              $('html,body').animate({
                scrollTop: target.offset().top
              }, 1000);
              return false;
            }
          }
        });

      });
    </script>

  </body>
</html>
